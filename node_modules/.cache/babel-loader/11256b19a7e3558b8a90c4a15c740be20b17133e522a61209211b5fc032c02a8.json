{"ast":null,"code":"import _regeneratorRuntime from\"/Users/akos/Development/gitRepos/resume/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/akos/Development/gitRepos/resume/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import{domainLink}from\"../../App\";var initialState={name:{first_name:\"first\",middle_name:\"middle\",last_name:\"last\"},role:\"role\",about_me:\"aboutme\",contact:{mail:\"mail\",phone:\"phone\",location:\"city\",linkedin:\"link\"},status:\"unknown\"};export var getPersonData=createAsyncThunk(\"basicInfos/fetchData\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,person;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(domainLink);case 2:_context.next=4;return _context.sent.json();case 4:response=_context.sent;if(!response.ok){// TODO handling error\n}_context.next=8;return response.afk.basic_infos;case 8:data=_context.sent;console.log(data);person={name:{first_name:data.first_name,middle_name:data.middle_name,last_name:data.last_name},role:data.role,about_me:data.about_me,contact:{mail:data.contact.mail,phone:data.contact.phone,location:data.contact.location,linkedin:data.contact.linkedin},status:\"success\"};return _context.abrupt(\"return\",person);case 12:case\"end\":return _context.stop();}},_callee);})));var basicInfoSlice=createSlice({name:\"basicInfos\",initialState:initialState,reducers:{},extraReducers:function extraReducers(builder){builder.addCase(getPersonData.fulfilled,function(state,action){console.log(\"basicinfo\");state.name=action.payload.name;state.role=action.payload.role;state.contact=action.payload.contact;state.about_me=action.payload.about_me;state.status=action.payload.status;});}});export var selectPersonBasics=function selectPersonBasics(state){return state.basics;};export default basicInfoSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","domainLink","initialState","name","first_name","middle_name","last_name","role","about_me","contact","mail","phone","location","linkedin","status","getPersonData","fetch","json","response","ok","afk","basic_infos","data","console","log","person","basicInfoSlice","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","selectPersonBasics","basics","reducer"],"sources":["/Users/akos/Development/gitRepos/resume/src/store/basic-infos/basic-info-slice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { domainLink } from \"../../App\";\nimport { RootState } from \"../resume-store\";\n\nexport type NameType = {\n  first_name: string;\n  middle_name: string;\n  last_name: string;\n};\n\ntype ContactType = {\n  mail: string;\n  phone: string;\n  location: string;\n  linkedin: string;\n};\n\nexport type PersonBasics = {\n  name: NameType;\n  role: string;\n  about_me: string;\n  contact: ContactType;\n  status: \"success\" | \"fail\" | \"unknown\";\n};\n\nconst initialState: PersonBasics = {\n  name: { first_name: \"first\", middle_name: \"middle\", last_name: \"last\" },\n  role: \"role\",\n  about_me: \"aboutme\",\n  contact: { mail: \"mail\", phone: \"phone\", location: \"city\", linkedin: \"link\" },\n  status: \"unknown\",\n};\n\nexport const getPersonData = createAsyncThunk(\n  \"basicInfos/fetchData\",\n  async () => {\n    const response = await (await fetch(domainLink)).json();\n\n    if (!response.ok) {\n      // TODO handling error\n    }\n\n    const data = await response.afk.basic_infos;\n    console.log(data);\n\n    const person: PersonBasics = {\n      name: {\n        first_name: data.first_name,\n        middle_name: data.middle_name,\n        last_name: data.last_name,\n      },\n      role: data.role,\n      about_me: data.about_me,\n      contact: {\n        mail: data.contact.mail,\n        phone: data.contact.phone,\n        location: data.contact.location,\n        linkedin: data.contact.linkedin,\n      },\n      status: \"success\",\n    };\n    return person;\n  }\n);\n\nconst basicInfoSlice = createSlice({\n  name: \"basicInfos\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(getPersonData.fulfilled, (state, action) => {\n      console.log(\"basicinfo\");\n      state.name = action.payload.name;\n      state.role = action.payload.role;\n      state.contact = action.payload.contact;\n      state.about_me = action.payload.about_me;\n      state.status = action.payload.status;\n    });\n  },\n});\n\nexport const selectPersonBasics = (state: RootState) => {\n  return state.basics;\n};\n\nexport default basicInfoSlice.reducer;\n"],"mappings":"0QAAA,OAASA,gBAAgB,CAAEC,WAAW,KAAQ,kBAAkB,CAChE,OAASC,UAAU,KAAQ,WAAW,CAwBtC,GAAMC,aAA0B,CAAG,CACjCC,IAAI,CAAE,CAAEC,UAAU,CAAE,OAAO,CAAEC,WAAW,CAAE,QAAQ,CAAEC,SAAS,CAAE,MAAO,CAAC,CACvEC,IAAI,CAAE,MAAM,CACZC,QAAQ,CAAE,SAAS,CACnBC,OAAO,CAAE,CAAEC,IAAI,CAAE,MAAM,CAAEC,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAO,CAAC,CAC7EC,MAAM,CAAE,SACV,CAAC,CAED,MAAO,IAAMC,cAAa,CAAGhB,gBAAgB,CAC3C,sBAAsB,wEACtB,mLACgCiB,MAAK,CAACf,UAAU,CAAC,6CAAEgB,IAAI,UAA/CC,QAAQ,eAEd,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAE,CAChB;AAAA,CACD,sBAEkBD,SAAQ,CAACE,GAAG,CAACC,WAAW,QAArCC,IAAI,eACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CAEXG,MAAoB,CAAG,CAC3BtB,IAAI,CAAE,CACJC,UAAU,CAAEkB,IAAI,CAAClB,UAAU,CAC3BC,WAAW,CAAEiB,IAAI,CAACjB,WAAW,CAC7BC,SAAS,CAAEgB,IAAI,CAAChB,SAClB,CAAC,CACDC,IAAI,CAAEe,IAAI,CAACf,IAAI,CACfC,QAAQ,CAAEc,IAAI,CAACd,QAAQ,CACvBC,OAAO,CAAE,CACPC,IAAI,CAAEY,IAAI,CAACb,OAAO,CAACC,IAAI,CACvBC,KAAK,CAAEW,IAAI,CAACb,OAAO,CAACE,KAAK,CACzBC,QAAQ,CAAEU,IAAI,CAACb,OAAO,CAACG,QAAQ,CAC/BC,QAAQ,CAAES,IAAI,CAACb,OAAO,CAACI,QACzB,CAAC,CACDC,MAAM,CAAE,SACV,CAAC,iCACMW,MAAM,wDACd,GACF,CAED,GAAMC,eAAc,CAAG1B,WAAW,CAAC,CACjCG,IAAI,CAAE,YAAY,CAClBD,YAAY,CAAZA,YAAY,CACZyB,QAAQ,CAAE,CAAC,CAAC,CACZC,aAAa,CAAE,uBAACC,OAAO,CAAK,CAC1BA,OAAO,CAACC,OAAO,CAACf,aAAa,CAACgB,SAAS,CAAE,SAACC,KAAK,CAAEC,MAAM,CAAK,CAC1DV,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC,CACxBQ,KAAK,CAAC7B,IAAI,CAAG8B,MAAM,CAACC,OAAO,CAAC/B,IAAI,CAChC6B,KAAK,CAACzB,IAAI,CAAG0B,MAAM,CAACC,OAAO,CAAC3B,IAAI,CAChCyB,KAAK,CAACvB,OAAO,CAAGwB,MAAM,CAACC,OAAO,CAACzB,OAAO,CACtCuB,KAAK,CAACxB,QAAQ,CAAGyB,MAAM,CAACC,OAAO,CAAC1B,QAAQ,CACxCwB,KAAK,CAAClB,MAAM,CAAGmB,MAAM,CAACC,OAAO,CAACpB,MAAM,CACtC,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CAEF,MAAO,IAAMqB,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIH,KAAgB,CAAK,CACtD,MAAOA,MAAK,CAACI,MAAM,CACrB,CAAC,CAED,cAAeV,eAAc,CAACW,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}